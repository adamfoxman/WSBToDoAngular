<mat-sidenav-container class="app-container">
  <mat-sidenav #sidenav mode="side" opened="true">
    <mat-nav-list>
      <a mat-list-item routerLink="/">Home</a>
      @if (isAuthenticated){
        <a mat-list-item routerLink="/tasks">Tasks</a>
      }
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar color="primary" class="navbar">
      <div>
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
        <span>WSB ToDo App</span>
      </div>
      <div class="navbar__container">
        <span>{{ user?.name }}</span>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>account_circle</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          @if (!user) {
            <button mat-menu-item routerLink="/login">
              <mat-icon>login</mat-icon>
              Login
            </button>
            <button mat-menu-item routerLink="/register">
              <mat-icon>person_add</mat-icon>
              Register
            </button>
          } @else {
            <button mat-menu-item (click)="logout()">
              <mat-icon>logout</mat-icon>
              Logout
            </button>
          }
        </mat-menu>
      </div>
    </mat-toolbar>
    <div class="router-container">
      <div class="container">
        <router-outlet></router-outlet>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
